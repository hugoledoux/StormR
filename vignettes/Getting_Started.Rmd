---
title: "Getting_Started"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting_Started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r global_options, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, include=FALSE, 
                     fig.align = 'center', fig.pos = 't',
                     fig.width = 6, fig.asp = 0.6,
                     cache = FALSE)
options(knitr.table.format = "latex")
```


```{r setup}
library(StormR)
```


# Introduction

insert few words here \
...\
...\
...\


#Solve common problems

##Get data associated with storms

```{r getStorms1}
harold <- getStorms(loi = "Vanuatu", names = "HAROLD")
```

```{r getStorms2}
sts.nc <- getStorms(loi = eezNC, seasons = c(2000,2022))
```

```{r getStorms3}
pt <- c(188.17,-13.92)
sts.pt <- getStorms(loi = pt)
```


##Access data
One can be interested in getting basics informations from a Storms object initialized with getStorms. However the structure of this object is quite complex and it can rapidly become overwhelming trying to reach data on your own. Then here are some getters that will help you saving time to access data.

From now on, we demonstrate how to use it using the sts.nc Storms object initialized right above.
If you are interested in getting all the storms names just run the following getter:
```{r getNames}
getNames(sts = sts.nc)
```

Also, for each storms in your Storms object, the following getters will return the cyclonic season and the maximum category reached in the Saffir Simpson Hurricane Scale:
```{r getSeasons}
#Get cyclonic seasons
getSeasons(sts = sts.nc)
#Get maximum reached category in SSHS
getSSHS(sts = sts.nc)
```

This getter simply returns the number of storms provided in your Storms Object:
```{r getNbStorms}
getNbStorms(sts = sts.nc)
```


The next 3 getters are usefull to retrieve spatial informations on the Location of Interest of you Storms object. The first command will return the LOI converted in sf format:
```{r getLOI}
getLOI(sts = sts.nc)
```

This second command simply returns the size (in km) of the buffer used to extent the LOI:
```{r getBufferSize}
getBufferSize(sts = sts.nc)
```

Finally this third command provides the LOI extented with the buffer in sf format. 
```{r getBuffer}
getBuffer(sts = sts.nc)
```

One can also be interested in getting all information about a particular storm. This operation is achieved using the following getter:
```{r getStorm}
niran <- getStorm(sts = sts.nc, name = "NIRAN")
```
Note: If serveral storms share the same name, you must specify the cyclonic season to differenciate them. For examplen 2 storms named Evan are provided within the sts.pt Storms object initialized in the first section. This first command will then return an error, as we did not specify which one we are interested in. 
```{r getStorm1}
evan <- getStorm(sts = sts.pt, name = "EVAN")
```
We thus tackle this issue using the 2 next commands:
```{r getStorm2}
evan1987 <- getStorm(sts = sts.pt, name = "EVAN", season = 1997)
evan2013 <- getStorm(sts = sts.pt, name = "EVAN", season = 2013)
```

All theses getters are designed to retrieve general informations on first levels of Storms objects. However we can go further into the object getting data of a particular storm. Combined with the getStorm getter, these following command perform really well.

This command provides the cyclonic season of a particular storm:
```{r getSeason}
getSeason(niran)
#Equivalent with 
getSeason(getStorm(sts = sts.nc, name = "NIRAN"))
```

This command provides the maximum category reached in the sshs for a particular storm:
```{r getsshs}
getsshs(niran)
#Equivalent with 
getsshs(getStorm(sts = sts.nc, name = "NIRAN"))
```

This command provides the number of observations available for a particular storm:
```{r getNbobs}
getNbObs(niran)
#Equivalent with 
getNbObs(getStorm(sts = sts.nc, name = "NIRAN"))
```

This command provides all the observations of a particular storm:
```{r getObs}
getObs(niran)
#Equivalent with 
getObs(getStorm(sts = sts.nc, name = "NIRAN"))
```


This command provides the index of observations within the spatial buffer for a particular storm:
```{r getNbobs}
getInObs(niran)
#Equivalent with 
getInObs(getStorm(sts = sts.nc, name = "NIRAN"))
```



##Plot data data associated with storms

```{r plotStorms1}
plotStorms(harold, labels = TRUE)
```

```{r plotStorms2}
plotStorms(sts.nc, names = c("ERICA", "COOK"), labels = TRUE, by = 12)
```

```{r plotStorms3}
plotStorms(sts.pt, category = 5, labels = T)
```


##Computing rasterized products

```{r stormBehaviour_sp 1}
prod.harold <- stormBehaviour_sp(harold, product = c("MSW", "PDI", "Exposure"))
```

```{r stormBehaviour_sp 2}
prof.harold <- stormBehaviour_sp(harold, product = "Profiles")
```

##Computing point wise products



##Visualize products


##Save product

