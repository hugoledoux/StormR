<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StormR â€¢ StormR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="StormR">
<meta property="og:description" content="StormR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">StormR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/StormR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>StormR</h1>
            
      
      
      <div class="hidden name"><code>StormR.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">StormR</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette teaches you how to use StormR package solving basic
problems. The StormsDataset used within this document relies on the
IBTrACS.SP.v04r00.nc. This dataset gathers all tropical depressions,
storms and cyclones that occured in the South Pacific ocean over since
1980. It is available in this package and named IBTRACS_SP and is also
the default setting to retrieve storms using Storms function (See next
section).</p>
</div>
<div class="section level2">
<h2 id="solve-common-problems">Solve common problems<a class="anchor" aria-label="anchor" href="#solve-common-problems"></a>
</h2>
<div class="section level3">
<h3 id="get-data-associated-with-storms">Get data associated with storms<a class="anchor" aria-label="anchor" href="#get-data-associated-with-storms"></a>
</h3>
<p>Once the StormsDataset is loaded, the first thing to do is to select
storms we are interested in. This operation is done using Storms
function. It collects the storms coming from a StormsDataset (sds input)
over a certain Location Of Interest (loi input). This searching location
is extended using the max_dist input, and default value is set to 300km.
Note that These 2 inputs are mandatory to perform this function (See
Storms Documentation). It is also possible to filter the storms by their
cyclonic seasons and their names (season and input names). Finally,
storms with maximum wind speed inferior to 18 m/s (Tropical Depressions
in the Saffir Simpson Hurricane Scale SSHS) can be ignored using
remove_TD logical input. Default value is set to TRUE. Here are some
basic usage of the Storms function.</p>
<p>In this case, we get the data associated with the tropical cyclone
Harold that hit Vanuatu in 2020. Note here that the loi represents a
whole country. (See Storms documentation to get the full list of country
available).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">harold</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Storms.html">Storms</a></span><span class="op">(</span>loi <span class="op">=</span> <span class="st">"Vanuatu"</span>, names <span class="op">=</span> <span class="st">"HAROLD"</span><span class="op">)</span></span></code></pre></div>
<p>In this second example, we collect data for all tropical storms and
cyclones over the Exclusive Economic Zone of New Caledonia (eezNC)
between 2000 and 2022. The loi here is a sf object, but it can also be a
shapefile.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sts.nc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Storms.html">Storms</a></span><span class="op">(</span>loi <span class="op">=</span> <span class="va">eezNC</span>, seasons <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2000</span>,<span class="fl">2022</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In this last example, we retrieve all data associated with tropical
storms and cyclones that occured since 1980 around the point coordinate
188.17: -13.92 (longitude, latitude decimal degree) within a 300km
buffer. These coordinates are actually located in the American
Samoa.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">188.17</span>,<span class="op">-</span><span class="fl">13.92</span><span class="op">)</span></span>
<span><span class="va">sts.pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Storms.html">Storms</a></span><span class="op">(</span>loi <span class="op">=</span> <span class="va">pt</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="access-data">Access data<a class="anchor" aria-label="anchor" href="#access-data"></a>
</h3>
<p>The Storms function returns data collected from tropical storms and
cyclone in a Storms object especially designed for this purpose (See
Storms class). Then , one can be interested in getting basics
informations from a Storms object initialized with Storms. However the
structure of this object is quite complex and it can rapidly become
overwhelming trying to reach data on your own. Here are some getters
that will help you saving time to access data.</p>
<p>From now on, we demonstrate how to use it using the sts.nc Storms
object initialized right above.</p>
<p>First of all, if you are interested in getting all the storms names
just run the following getter:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/getNames-methods.html">getNames</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span><span class="op">)</span></span></code></pre></div>
<p>Also, for each storms in your Storms object, the following getters
will return the cyclonic season and the maximum category reached in the
SSHS:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get cyclonic seasons</span></span>
<span><span class="fu"><a href="../reference/getSeasons-methods.html">getSeasons</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span><span class="op">)</span></span>
<span><span class="co">#Get maximum reached category in SSHS</span></span>
<span><span class="fu"><a href="../reference/getSSHS-methods.html">getSSHS</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span><span class="op">)</span></span></code></pre></div>
<p>This getter simply returns the number of storms provided in your
Storms Object:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/getNbStorms-methods.html">getNbStorms</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span><span class="op">)</span></span></code></pre></div>
<p>The next 3 getters are useful to retrieve spatial informations on the
Location Of Interest of your Storms object. The first command will
return the LOI converted in sf format:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/getLOI-methods.html">getLOI</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span><span class="op">)</span></span></code></pre></div>
<p>This second command simply returns the size (in km) of the buffer
used to extent the LOI:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/getBufferSize-methods.html">getBufferSize</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span><span class="op">)</span></span></code></pre></div>
<p>Finally this third command provides the LOI extended with the buffer
in sf format.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/getBuffer-methods.html">getBuffer</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span><span class="op">)</span></span></code></pre></div>
<p>One can also be interested in getting all informations about a
particular storm. This operation is achieved using the following
getter:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">niran</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getStorm-methods.html">getStorm</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.nc</span>, name <span class="op">=</span> <span class="st">"NIRAN"</span><span class="op">)</span></span></code></pre></div>
<p>Note: If serveral storms share the same name, you must specify the
cyclonic season to differenciate them. For example, 2 storms named Evan
are provided within the sts.pt Storms object initialized in the first
section. This first command will then return an error, as we did not
specify which one we are interested in.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#getStorm(sts = sts.pt, name = "EVAN")</span></span></code></pre></div>
<p>We thus tackle this issue using the next 2 commands:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">evan1997</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getStorm-methods.html">getStorm</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.pt</span>, name <span class="op">=</span> <span class="st">"EVAN"</span>, season <span class="op">=</span> <span class="fl">1997</span><span class="op">)</span></span>
<span><span class="va">evan2013</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getStorm-methods.html">getStorm</a></span><span class="op">(</span>sts <span class="op">=</span> <span class="va">sts.pt</span>, name <span class="op">=</span> <span class="st">"EVAN"</span>, season <span class="op">=</span> <span class="fl">2013</span><span class="op">)</span></span></code></pre></div>
<p>All theses getters are designed to retrieve general informations on
first levels of Storms objects. However we can go further into the
object getting data of a particular storm. Combined with the getStorm
getter, these following command perform really well.</p>
<p>This command provides the cyclonic season of a particular storm:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#getStorm_season(niran)</span></span>
<span><span class="co">#Equivalent to getSeason(getStorm(sts = sts.nc, name = "NIRAN"))</span></span></code></pre></div>
<p>This command provides the maximum category reached in the sshs for a
particular storm:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#getStorm_sshs(niran)</span></span>
<span><span class="co">#Equivalent to getsshs(getStorm(sts = sts.nc, name = "NIRAN"))</span></span></code></pre></div>
<p>This command provides the number of observations available for a
particular storm:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#getStorm_nbObs(niran)</span></span>
<span><span class="co">#Equivalent to getNbObs(getStorm(sts = sts.nc, name = "NIRAN"))</span></span></code></pre></div>
<p>This command provides all the observations of a particular storm:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#getStorm_obs(niran)</span></span>
<span><span class="co">#Equivalent to getObs(getStorm(sts = sts.nc, name = "NIRAN"))</span></span></code></pre></div>
<p>This command provides the index of observations within the spatial
buffer for a particular storm:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#getStorm_inObs(niran)</span></span>
<span><span class="co">#Equivalent to getInObs(getStorm(sts = sts.nc, name = "NIRAN"))</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plot-data-associated-with-storms">Plot data associated with storms<a class="anchor" aria-label="anchor" href="#plot-data-associated-with-storms"></a>
</h3>
<p>An interesting feature of this package is the plotStorms function
which let you plot track(s) of storm(s) provided in a Storms object over
the Location Of Interest, using different settings (See plotStorms
documentation to get all the available input). Here are some basics
usages of this function.</p>
<p>In this example, we plot tropical cyclone Harold track over the
Vanuatu alongside with the labeled observations. Default setting are
used to plot labels: every 24h and on the right side of
observations.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotStorms.html">plotStorms</a></span><span class="op">(</span><span class="va">harold</span>, labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>In this second example, we plot tropical cyclone Erica (2003) and
Cook (2017), over the EEZ of New Caledonia alongside with the labeled
observations (In this case every ??H).</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotStorms.html">plotStorms</a></span><span class="op">(</span><span class="va">sts.nc</span>, names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ERICA"</span>, <span class="st">"COOK"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="cn">TRUE</span>, by <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></code></pre></div>
<p>In this last example, we plot every tropical cyclone that reached
category 5 (SSHS) around American Samoa, alongside with the labeled
observations.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotStorms.html">plotStorms</a></span><span class="op">(</span><span class="va">sts.pt</span>, category <span class="op">=</span> <span class="fl">5</span>, labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="computing-rasterized-products">Computing rasterized products<a class="anchor" aria-label="anchor" href="#computing-rasterized-products"></a>
</h3>
<p>The most important functionality provided by this package is by far
the spatialBehaviour function.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prod.harold</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spatialBehaviour.html">spatialBehaviour</a></span><span class="op">(</span><span class="va">harold</span>, product <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MSW"</span>, <span class="st">"PDI"</span>, <span class="st">"Exposure"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prof.harold</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spatialBehaviour.html">spatialBehaviour</a></span><span class="op">(</span><span class="va">harold</span>, product <span class="op">=</span> <span class="st">"Profiles"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="computing-point-wise-products">Computing point wise products<a class="anchor" aria-label="anchor" href="#computing-point-wise-products"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">luganville.pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>lon <span class="op">=</span> <span class="fl">167.1667</span> , lat <span class="op">=</span> <span class="op">-</span><span class="fl">15.5333</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ts.luganville</span> <span class="op">&lt;-</span> <span class="fu">temporalBehaviour</span><span class="op">(</span><span class="va">harold</span>, points <span class="op">=</span> <span class="va">luganville.pt</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualize-products">Visualize products<a class="anchor" aria-label="anchor" href="#visualize-products"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotBehaviour.html">plotBehaviour</a></span><span class="op">(</span><span class="va">harold</span>, <span class="va">prod.harold</span><span class="op">[[</span><span class="st">"HAROLD_MSW"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotBehaviour.html">plotBehaviour</a></span><span class="op">(</span><span class="va">harold</span>, <span class="va">prod.harold</span><span class="op">[[</span><span class="st">"HAROLD_PDI"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotBehaviour.html">plotBehaviour</a></span><span class="op">(</span><span class="va">harold</span>, <span class="va">prod.harold</span><span class="op">[[</span><span class="st">"HAROLD_Exposure_58"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>##Save product</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/writeRast.html">writeRast</a></span><span class="op">(</span><span class="va">prod.harold</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Baptiste Delaporte, Thomas Ibanez, Gunnar Keppel, Swen Jullien, Christophe Menkes, Thomas Arsouze.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
